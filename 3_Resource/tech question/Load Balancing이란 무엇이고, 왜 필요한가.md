---
title: Load Balancing이란 무엇이고, 왜 필요한가
aliases:
classification: resource
tags:
  - load-balancer
  - interview
url:
created: 2026-01-31T07:48
updated: 2026-01-31T08:33
---

## Question

- 로드 밸런싱(Load Balancing)이란 무엇이고, 왜 필요한가요? 사용자가 갑자기 몰려도 서버가 다운되지 않게 하려면 어떻게 해야 할까요?

## Answer

- 로드 밸런싱은 서버에 들어오는 트래픽을 여러 대의 서버로 균등하게 분산시켜 처리하는 기술
	- Nginx, AWS ELB
- 고가용성 보장
	- 특정 서버에 장애가 발생해도 트래픽을 정상 서버로 우회시켜 서비스 중단을 막는다.
		- 단일 장애 지점(SPOF)을 제거
- 부하 분산
	- 트래픽이 한 곳에 집중되는 것을 방지하여 응답 속도 저하를 막고 서버 자원을 효율적으로 사용

트래픽 급증(Spike) 시 대응 전략
- 인프라 계층 : Auto-scaling 적용
	- 트래픽 부하에 따라 서버 인스턴스 개수를 자동을 늘리고 줄이는 오토 스케일링 그룹을 설정하여 예상치 못한 트래픽 유입 시 서버 용량을 즉각적으로 확보
- 네트워크 계층 : 적절한 로드 밸런싱 알고리즘 선택
	- Round Robin
		- 서버 목록 순서대로 요청을 하나씩 할당하여 모든 서버에 균등하게 트래픽을 분산
	- 최소 연결(Least Connection)
		- 현재 연결된 세션(트래픽) 수가 가장 적은 서버를 찾아 요청을 우선 할당하여 부하를 분산
- Application/DB 계층 : Caching 활용
	- Redis나 Memcached 같은 인메모리 캐시를 사용하여 자주 조회되는 데이터를 빠르게 반환하고 정적 컨텐츠는 CDN을 통해 분산 처리하여 원본 서버의 부하를 줄인다.
- Architecture 계층 : 비동기 처리
	- 즉시 처리가 필요 없는 작업은 Kafka나 RabbitMQ와 메시지 큐를 통해 비동기로 처리한다.
	- 대기열에 쌓아두고 서버가 처리 가능한 속도로 소비하도록 Throttling하여 시스템의 과부하를 방지

## Related

### 로드 밸런서 L4 vs L7

- 로드 밸런서는 OSI 7계층 중 어느 계층의 정보를 기준으로 트래픽을 분산하느냐에 따라 구분된다.

|        | L4 로드 밸런서 (전송 계층)                                      | L7 로드 밸런서 (응용 계층)                                                  |
| ------ | ------------------------------------------------------ | ------------------------------------------------------------------ |
| 분산 기준  | IP 주소, 포트 번호 (TCP/UDP)                                 | URL, HTTP 헤더, 쿠키, 페이로드 내용                                          |
| 특징     | 패킷 내용을 보지 않고 전달만 하므로 속도가 빠르고 부하가 적음                    | 패킷 내용을 분석하여 정교한 라우팅 가능, L4 대비 부하가 큼                                |
| 유리한 상황 | 단순한 부하 분산 필요 시<br>데이터 내용을 볼 필요가 없을 때<br>성능과 속도가 최우선일 때 | 마이크로서비스(URL별 라우팅) 구조<br>SSL 인증서 중앙 관리 필요 시<br>특정 사용자(세션)를 관리해야 할 때 |
| 핵심 요약  | 빠르고 단순함 (인프라 레벨)                                       | 똑똑하고 유연함 (애플리케이션 레벨)                                               |

---

### 로드 밸런싱 환경에서의 세션 유지 문제와 해결 전략

- 서버가 여러 대일 경우, 1번 서버에 고르인했더라도 다음 요청이 로드 밸런서에 의해 2번 서버로 전달되면 로그인 정보가 없어 세션 불일치 문제가 발생한다.

Sticky Session
- 로드 밸런서가 특정 사용자의 요청을 처음 접속한 서버로만 고정해서 보내는 방식
	- 쿠키나 클라이언트 IP 기준으로 사용자 세션을 유지
	- 구현이 단순하며 별도의 백엔드 인프라(Reids 등)가 필요없음
	- 특정 서버에만 트래픽이 몰릴 경우 부하 분산이 실패할 수 있다
	- 서버가 다운되면 해당 서버에 저장된 세션 정보가 모두 유실(가용성 저하)

Session Clustering./ Session storage 분리
- 각 서버가 세션을 로컬 메모리에 저장하지 않고 외부 별도 저장소에 공유하는 방식
- 특정 서버가 죽어도 세션 정보는 안전하다.
- auto scaling 환경에 가장 적합
- 트래픽을 균등하게 분산할 수 있음
